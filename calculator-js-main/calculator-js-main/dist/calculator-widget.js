!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return show});var _calculator_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_calculator_html__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_calculator_html__WEBPACK_IMPORTED_MODULE_0__),_calculator_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_calculator_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_calculator_css__WEBPACK_IMPORTED_MODULE_1__),textBox="",currentNumber="";String.prototype.replaceAt=function(e,t){let n=0==t.length?1:t.length;return this.substr(0,e-1)+t+this.substr(e-1+n,this.length)},String.prototype.isEmpty=function(){return null==this||void 0===this||(null==this.trim()||""===this.trim())};const map={DIV:"/",PLUS:"+",MINUS:"-",DIV:"/",MULTI:"x",EQ:""};function show(){let e=document.createElement("div");e.innerHTML=_calculator_html__WEBPACK_IMPORTED_MODULE_0___default.a;let t=document.getElementsByClassName("calculator")[0];for(;e.children.length>0;)t.appendChild(e.children[0]);systemOpsListener(),speialOpsListener(),systemEventListener(),dragAndDropWidget()}var position=[];function dragAndDropWidget(){document.getElementById("calc-widget").addEventListener("dragstart",e=>{position=[],e.dataTransfer.effectAllowed="move";let t=window.getComputedStyle(e.target,null),n=t.getPropertyValue("left"),r=t.getPropertyValue("top");n=n.replace("px",""),r=r.replace("px",""),Number.isNaN(n)&&(n=10),Number.isNaN(r)&&(r=10),position.push(n-e.clientX),position.push(r-e.clientY)}),document.getElementById("calc-widget").addEventListener("dragend",e=>{e.preventDefault();let t=e.target.id;document.getElementById(t).style.position="relative",document.getElementById(t).style.left=e.clientX+position[0],document.getElementById(t).style.top=e.clientY+position[1]})}function systemEventListener(){var e=document.querySelectorAll("span.system");for(let t=0;t<e.length;t++){e[t].addEventListener("click",e=>{switch(e.target.getAttribute("value")){case"C":textBox=currentNumber="";break;case"CE":currentNumber="";break;case"DEL":let t=currentNumber.length;0!=t&&(currentNumber=currentNumber.replaceAt(t,""))}document.getElementsByClassName("total-expr")[0].textContent=textBox,document.getElementsByClassName("current-number")[0].textContent=currentNumber})}}function speialOpsListener(){var specialNodeList=document.querySelectorAll("span.special-symbols");for(let i=0;i<specialNodeList.length;i++){let childElement=specialNodeList[i];childElement.addEventListener("click",event=>{let value=event.target.getAttribute("value"),lastChar=null,totalLen=textBox.length;!textBox.isEmpty()&&currentNumber.isEmpty()&&Number.isNaN(Number.parseFloat(textBox.charAt(totalLen-1)))&&Number.isNaN(Number.parseFloat(value))?0!=totalLen&&(textBox=textBox.replaceAt(totalLen,map[value])):(textBox.isEmpty()?textBox=currentNumber+map[value]:(textBox=eval(textBox.replace("x","*")+currentNumber),textBox+=map[value]),currentNumber=""),document.getElementsByClassName("total-expr")[0].textContent=textBox,document.getElementsByClassName("current-number")[0].textContent=currentNumber})}}function systemOpsListener(){var e=document.querySelectorAll("span.number");for(let t=0;t<e.length;t++){e[t].addEventListener("click",e=>{let t=e.target.getAttribute("value");switch(t){case"dot":let e=currentNumber.length;-1==currentNumber.indexOf(".")&&"."!==currentNumber.charAt(e-1)&&(currentNumber.isEmpty()?currentNumber="0.":currentNumber+=".");break;default:currentNumber+=t}document.getElementsByClassName("total-expr")[0].textContent=textBox,document.getElementsByClassName("current-number")[0].textContent=currentNumber})}}},function(e,t,n){e.exports='<div id="calc-widget" class="calc-container" draggable="true">\r\n    <div class="calc-row">\r\n        <div class="text-box col-12">\r\n            <span class="total-expr"></span>\r\n            <span class="current-number"></span>\r\n        </div>\r\n    </div>\r\n    <div class="calc-row">\r\n        <span value="CE" class="button system col-3">CE</span>\r\n        <span value="C" class="button system col-3">C</span>\r\n        <span value="DEL" class="button system col-3">\r\n            <img style="padding-top:20%;color:white;"src="'+n(3)+'"/>\r\n        </span>\r\n        <span value="DIV" class="button special-symbols col-3">/</span>\r\n    </div>\r\n    <div class="calc-row">\r\n        <span value="7" class="button number col-3">7</span>\r\n        <span value="8" class="button number col-3">8</span>\r\n        <span value="9" class="button number col-3">9</span>\r\n        <span value="MULTI" class="button special-symbols col-3">x</span>\r\n    </div>\r\n    <div class="calc-row">\r\n        <span value="4" class="button number col-3">4</span>\r\n        <span value="5" class="button number col-3">5</span>\r\n        <span value="6" class="button number col-3">6</span>\r\n        <span value="MINUS" class="button special-symbols col-3">-</span>\r\n    </div>\r\n    <div class="calc-row">\r\n        <span value="1" class="button number col-3">1</span>\r\n        <span value="2" class="button number col-3">2</span>\r\n        <span value="3" class="button number col-3">3</span>\r\n        <span value="PLUS" class="button special-symbols col-3">+</span>\r\n    </div>\r\n    <div class="calc-row">\r\n        <span class="button disabled col-3"></span>\r\n        <span value="0" class="button number col-3">0</span>\r\n        <span value="dot" class="button number col-3">.</span>\r\n        <span value="EQ" class="button special-symbols col-3">=</span>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";n.r(t);n(0)},function(e,t,n){e.exports=n.p+"8f2881c9a7525fcb3311334a6cea750c.png"},function(e,t,n){var r=n(5);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0};n(7)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(6)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),t.push([e.i,".calc-container{\r\n    margin: 0px;\r\n    border: 0px;\r\n    max-width:300px;\r\n    display:flex;\r\n    flex-direction: column;\r\n    flex-wrap:wrap;\r\n    font-family: 'Roboto', sans-serif;\r\n    -webkit-box-shadow: 0px 2px 38px -3px rgba(0,0,0,0.75);\r\n    -moz-box-shadow: 0px 2px 38px -3px rgba(0,0,0,0.75);\r\n    box-shadow: 0px 2px 38px -3px rgba(0,0,0,0.75); \r\n    z-index:1001; \r\n}\r\n.text-box{\r\n    border:1px solid #E0E0E0;\r\n    background-color: #E0E0E0;\r\n    height:80px;\r\n    padding-right:5px;\r\n    text-align: right;\r\n}\r\n.total-expr{\r\n    font-size:15px;\r\n    /*line-height:40px;*/\r\n    position:relative;\r\n    top:20%;\r\n    display: block;\r\n}\r\n.current-number{\r\n    font-weight:bold;\r\n    font-size:30px;\r\n    position:relative;\r\n    top:20%;\r\n    /*line-height:40px;*/\r\n    display: block;\r\n}\r\n.calc-row{\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.button{\r\n    min-width:50px;\r\n    min-height:40px;\r\n    border:1px solid #B8B8B8;\r\n    text-align: center;\r\n    justify-content: center;\r\n    font-size:20px;\r\n    line-height:50px;\r\n    cursor: pointer;\r\n}\r\n.disabled{\r\n    cursor:default;\r\n}\r\n.number{\r\n    font-weight: bold;\r\n}\r\n.number:hover{\r\n    /*background-color:#E0E0E0;*/\r\n    background-color:#EBEBEB;\r\n}\r\nspan.number:active{\r\n    background-color:#E0E0E0;\r\n    border:1px double #B8B8B8;\r\n}\r\nspan.button:not(.number):not(.disabled):active{\r\n    background-color:#00bfff;\r\n    color:white;\r\n    transition: 0.15s;\r\n}\r\nspan.button:not(.number):not(.disabled):not(:active):hover{\r\n    background-color:#0040ff;\r\n    color:white;\r\n}\r\n.special-symbols,\r\n.system\r\n{\r\n    font-size:16px;\r\n    background-color:#EBEBEB;\r\n}\r\n.col-3{\r\n    width:25%;\r\n}\r\n.col-4{\r\n    width:33%;\r\n}\r\n.col-12{\r\n    width:100%;\r\n}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var r,o,a={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),l=function(e){var t={};return function(e){if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),i=null,c=0,u=[],p=n(8);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(x(r.parts[s],t))}else{var l=[];for(s=0;s<r.parts.length;s++)l.push(x(r.parts[s],t));a[r.id]={id:r.id,refs:1,parts:l}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],s=t.base?a[0]+t.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};r[s]?r[s].parts.push(l):n.push(r[s]={id:s,parts:[l]})}return n}function b(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",h(t,e.attrs),b(e,t),t}function h(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function x(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var s=c++;n=i||(i=v(t)),r=y.bind(null,n,s,!1),o=y.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",h(t,e.attrs),b(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o];(l=a[s.id]).refs--,r.push(l)}e&&d(f(e,t),t);for(o=0;o<r.length;o++){var l;if(0===(l=r[o]).refs){for(var i=0;i<l.parts.length;i++)l.parts[i]();delete a[l.id]}}}};var _,g=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function y(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var a=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvY2FsY3VsYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9jYWxjdWxhdG9yLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvYmFja3NwYWNlLWFycm93LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9jYWxjdWxhdG9yLmNzcz85ZjZiIiwid2VicGFjazovLy8uL3NyYy92aWV3L2NhbGN1bGF0b3IuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJzaG93IiwiX2NhbGN1bGF0b3JfaHRtbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2NhbGN1bGF0b3JfaHRtbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJfY2FsY3VsYXRvcl9jc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9jYWxjdWxhdG9yX2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQiLCJ0ZXh0Qm94IiwiY3VycmVudE51bWJlciIsIlN0cmluZyIsInJlcGxhY2VBdCIsInBvc2l0aW9uIiwicmVwbGFjZW1lbnQiLCJybGVuZ3RoIiwibGVuZ3RoIiwidGhpcyIsInN1YnN0ciIsImlzRW1wdHkiLCJ1bmRlZmluZWQiLCJ0cmltIiwibWFwIiwiRElWIiwiUExVUyIsIk1JTlVTIiwiTVVMVEkiLCJFUSIsInRlbXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhIiwiYm9keSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjaGlsZHJlbiIsImFwcGVuZENoaWxkIiwic3lzdGVtT3BzTGlzdGVuZXIiLCJzcGVpYWxPcHNMaXN0ZW5lciIsInN5c3RlbUV2ZW50TGlzdGVuZXIiLCJkcmFnQW5kRHJvcFdpZGdldCIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0QWxsb3dlZCIsInN0eWxlIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRhcmdldCIsImxlZnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwidG9wIiwicmVwbGFjZSIsIk51bWJlciIsImlzTmFOIiwicHVzaCIsImNsaWVudFgiLCJjbGllbnRZIiwicHJldmVudERlZmF1bHQiLCJpZCIsInN5c3RlbU5vZGVMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImdldEF0dHJpYnV0ZSIsInRvdGFsTGVuIiwidGV4dENvbnRlbnQiLCJzcGVjaWFsTm9kZUxpc3QiLCJjaGlsZEVsZW1lbnQiLCJsYXN0Q2hhciIsInBhcnNlRmxvYXQiLCJjaGFyQXQiLCJldmFsIiwibnVtYmVyTm9kZUxpc3QiLCJpbmRleE9mIiwiY29udGVudCIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJsb2NhbHMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJpdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImF0b2IiLCJhcHBseSIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJzZWxlY3RvciIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsImluc2VydEludG8iLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwiJDEiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSwyRUNsRkFuQyxvQkFBQVUsRUFBQTBCLG9CQUFBLHNCQUFBQyxPQUFBLElBQUFDLDhDQUFBdEMsb0JBQUEsR0FBQXVDLHNEQUFBdkMsb0JBQUE2QixFQUFBUywrQ0FBQUUsNkNBQUF4QyxvQkFBQSxHQUFBeUMscURBQUF6QyxvQkFBQTZCLEVBQUFXLDhDQUdBRSxRQUFBLEdBQ0FDLGNBQUEsR0FFQUMsT0FBQVosVUFBQWEsVUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUEsR0FBQUQsRUFBQUUsT0FBQSxFQUFBRixFQUFBRSxPQUNBLE9BQUFDLEtBQUFDLE9BQUEsRUFBQUwsRUFBQSxHQUFBQyxFQUFBRyxLQUFBQyxPQUFBTCxFQUFBLEVBQUFFLEVBQUFFLEtBQUFELFNBR0FMLE9BQUFaLFVBQUFvQixRQUFBLFdBQ0EsYUFBQUYsV0FBQUcsSUFBQUgsT0FHQSxNQUFBQSxLQUFBSSxRQUFBLEtBQUFKLEtBQUFJLFNBT0EsTUFBQUMsSUFBQSxDQUNBQyxJQUFBLElBQ0FDLEtBQUEsSUFDQUMsTUFBQSxJQUNBRixJQUFBLElBQ0FHLE1BQUEsSUFDQUMsR0FBQSxJQUVPLFNBQUF2QixPQUNQLElBQUF3QixFQUFBQyxTQUFBQyxjQUFBLE9BQ0FGLEVBQUFHLFVBQXFCekIsc0RBQUEwQixFQUNyQixJQUFBQyxFQUFBSixTQUFBSyx1QkFBQSxpQkFDQSxLQUFBTixFQUFBTyxTQUFBbkIsT0FBQSxHQUNBaUIsRUFBQUcsWUFBQVIsRUFBQU8sU0FBQSxJQUdBRSxvQkFFQUMsb0JBRUFDLHNCQUVBQyxvQkFHQSxJQUFBM0IsU0FBQSxHQUNBLFNBQUEyQixvQkFDQVgsU0FBQVksZUFBQSxlQUFBQyxpQkFBQSxZQUFBQyxJQUNBOUIsU0FBQSxHQUNBOEIsRUFBQUMsYUFBQUMsY0FBQSxPQUNBLElBQUFDLEVBQUFDLE9BQUFDLGlCQUFBTCxFQUFBTSxPQUFBLE1BQ0FDLEVBQUFKLEVBQUFLLGlCQUFBLFFBQ0FDLEVBQUFOLEVBQUFLLGlCQUFBLE9BQ0FELElBQUFHLFFBQUEsU0FDQUQsSUFBQUMsUUFBQSxTQUNBQyxPQUFBQyxNQUFBTCxLQUNBQSxFQUFBLElBQ0FJLE9BQUFDLE1BQUFILEtBQ0FBLEVBQUEsSUFDQXZDLFNBQUEyQyxLQUFBTixFQUFBUCxFQUFBYyxTQUNBNUMsU0FBQTJDLEtBQUFKLEVBQUFULEVBQUFlLFdBR0E3QixTQUFBWSxlQUFBLGVBQUFDLGlCQUFBLFVBQUFDLElBQ0FBLEVBQUFnQixpQkFDQSxJQUFBQyxFQUFBakIsRUFBQU0sT0FBQVcsR0FDQS9CLFNBQUFZLGVBQUFtQixHQUFBZCxNQUFBakMsU0FBQSxXQUNBZ0IsU0FBQVksZUFBQW1CLEdBQUFkLE1BQUFJLEtBQUFQLEVBQUFjLFFBQUE1QyxTQUFBLEdBQ0FnQixTQUFBWSxlQUFBbUIsR0FBQWQsTUFBQU0sSUFBQVQsRUFBQWUsUUFBQTdDLFNBQUEsS0FJQSxTQUFBMEIsc0JBQ0EsSUFBQXNCLEVBQUFoQyxTQUFBaUMsaUJBQUEsZUFDQSxRQUFBM0YsRUFBQSxFQUFnQkEsRUFBQTBGLEVBQUE3QyxPQUF3QjdDLElBQUEsQ0FDeEMwRixFQUFBMUYsR0FDQXVFLGlCQUFBLFFBQUFDLElBRUEsT0FEQUEsRUFBQU0sT0FBQWMsYUFBQSxVQUVBLFFBQ0F0RCxRQUFBQyxjQUFBLEdBQ0EsTUFDQSxTQUNBQSxjQUFBLEdBQ0EsTUFDQSxVQUNBLElBQUFzRCxFQUFBdEQsY0FBQU0sT0FDQSxHQUFBZ0QsSUFDQXRELDRCQUFBRSxVQUFBb0QsRUFBQSxLQUdBbkMsU0FBQUssdUJBQUEsaUJBQUErQixZQUFBeEQsUUFDQW9CLFNBQUFLLHVCQUFBLHFCQUFBK0IsWUFBQXZELGlCQUtBLFNBQUE0QixvQkFDQSxJQUFBNEIsZ0JBQUFyQyxTQUFBaUMsaUJBQUEsd0JBQ0EsUUFBQTNGLEVBQUEsRUFBZ0JBLEVBQUErRixnQkFBQWxELE9BQXlCN0MsSUFBQSxDQUN6QyxJQUFBZ0csYUFBQUQsZ0JBQUEvRixHQUNBZ0csYUFBQXpCLGlCQUFBLFFBQUFDLFFBQ0EsSUFBQXZELE1BQUF1RCxNQUFBTSxPQUFBYyxhQUFBLFNBQ0FLLFNBQUEsS0FDQUosU0FBQXZELFFBQUFPLFFBQ0FQLFFBQUFVLFdBQUFULGNBQUFTLFdBQUFtQyxPQUFBQyxNQUFBRCxPQUFBZSxXQUFBNUQsUUFBQTZELE9BQUFOLFNBQUEsTUFBQVYsT0FBQUMsTUFBQUQsT0FBQWUsV0FBQWpGLFFBQ0EsR0FBQTRFLFdBQ0F2RCxnQkFBQUcsVUFBQW9ELFNBQUExQyxJQUFBbEMsVUFFQXFCLFFBQUFVLFVBSUFWLFFBQUFDLGNBQUFZLElBQUFsQyxRQUhBcUIsUUFBQThELEtBQUE5RCxRQUFBNEMsUUFBQSxTQUFBM0MsZUFDQUQsU0FBQWEsSUFBQWxDLFFBSUFzQixjQUFBLElBRUFtQixTQUFBSyx1QkFBQSxpQkFBQStCLFlBQUF4RCxRQUNBb0IsU0FBQUssdUJBQUEscUJBQUErQixZQUFBdkQsaUJBS0EsU0FBQTJCLG9CQUNBLElBQUFtQyxFQUFBM0MsU0FBQWlDLGlCQUFBLGVBQ0EsUUFBQTNGLEVBQUEsRUFBZ0JBLEVBQUFxRyxFQUFBeEQsT0FBd0I3QyxJQUFBLENBQ3hDcUcsRUFBQXJHLEdBQ0F1RSxpQkFBQSxRQUFBQyxJQUNBLElBQUF2RCxFQUFBdUQsRUFBQU0sT0FBQWMsYUFBQSxTQUNBLE9BQUEzRSxHQUNBLFVBQ0EsSUFBQTRFLEVBQUF0RCxjQUFBTSxRQUNBLEdBQUFOLGNBQUErRCxRQUFBLFlBQUEvRCxjQUFBNEQsT0FBQU4sRUFBQSxLQUNBdEQsY0FBQVMsVUFDQVQsY0FBQSxLQUVBQSxlQUFBLEtBR0EsTUFDQSxRQUNBQSxlQUFBdEIsRUFHQXlDLFNBQUFLLHVCQUFBLGlCQUFBK0IsWUFBQXhELFFBQ0FvQixTQUFBSyx1QkFBQSxxQkFBQStCLFlBQUF2RCxtQ0NuSkF4QyxFQUFBRCxRQUFBLG9pQkFBc2xCRixFQUFRLEdBQXVCLG0zQ0NBcm5CQSxFQUFBa0IsRUFBQWtCLEdBQUFwQyxFQUFBLG9CQ0FBRyxFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLHdEQ0d4QyxJQUFBeUUsRUFBYzNHLEVBQVEsR0FDdEIsaUJBQUEyRyxNQUFBLEVBQTRDeEcsRUFBQUMsRUFBU3VHLEVBQUEsTUFJckQsSUFBQUMsRUFBQSxDQUFlQyxLQUFBLEVBQ2ZDLGVBSEFBLEdBS2E5RyxFQUFRLEVBQVJBLENBQTJEMkcsRUFBQUMsR0FDeEVELEVBQUFJLFNBQUE1RyxFQUFBRCxRQUFBeUcsRUFBQUksMEJDWkE3RyxFQUFBQyxFQUFBRCxRQUEyQkYsRUFBUSxFQUFSQSxFQUF1RCxJQUVsRnlGLEtBQUEsQ0FBY3RGLEVBQUFDLEVBQVMsK0RBQStELEtBR3RGRixFQUFBdUYsS0FBQSxDQUFjdEYsRUFBQUMsRUFBUyw2MkRBQTYyRCxvQkNBcDRERCxFQUFBRCxRQUFBLFNBQUE4RyxHQUNBLElBQUFDLEVBQUEsR0F3Q0EsT0FyQ0FBLEVBQUFDLFNBQUEsV0FDQSxPQUFBaEUsS0FBQUssSUFBQSxTQUFBNEQsR0FDQSxJQUFBUixFQXNDQSxTQUFBUSxFQUFBSCxHQUNBLElBQUFMLEVBQUFRLEVBQUEsT0FDQUMsRUFBQUQsRUFBQSxHQUNBLElBQUFDLEVBQ0EsT0FBQVQsRUFHQSxHQUFBSyxHQUFBLG1CQUFBSyxLQUFBLENBQ0EsSUFBQUMsR0FZQUMsRUFaQUgsRUFpQkEsbUVBSEFDLEtBQUFHLFNBQUFDLG1CQUFBQyxLQUFBQyxVQUFBSixNQUdBLE9BaEJBSyxFQUFBUixFQUFBUyxRQUFBdEUsSUFBQSxTQUFBdUUsR0FDQSx1QkFBQVYsRUFBQVcsV0FBQUQsRUFBQSxRQUdBLE9BQUFuQixHQUFBcUIsT0FBQUosR0FBQUksT0FBQSxDQUFBVixJQUFBVyxLQUFBLE1BT0EsSUFBQVYsRUFKQSxPQUFBWixHQUFBc0IsS0FBQSxNQXREQUMsQ0FBQWYsRUFBQUgsR0FDQSxPQUFBRyxFQUFBLEdBQ0EsVUFBQUEsRUFBQSxPQUFtQ1IsRUFBQSxJQUVuQ0EsSUFFR3NCLEtBQUEsS0FJSGhCLEVBQUE3RyxFQUFBLFNBQUFFLEVBQUE2SCxHQUNBLGlCQUFBN0gsSUFDQUEsRUFBQSxPQUFBQSxFQUFBLE1BRUEsSUFEQSxJQUFBOEgsRUFBQSxHQUNBaEksRUFBQSxFQUFnQkEsRUFBQThDLEtBQUFELE9BQWlCN0MsSUFBQSxDQUNqQyxJQUFBeUYsRUFBQTNDLEtBQUE5QyxHQUFBLEdBQ0EsaUJBQUF5RixJQUNBdUMsRUFBQXZDLElBQUEsR0FFQSxJQUFBekYsRUFBQSxFQUFZQSxFQUFBRSxFQUFBMkMsT0FBb0I3QyxJQUFBLENBQ2hDLElBQUErRyxFQUFBN0csRUFBQUYsR0FLQSxpQkFBQStHLEVBQUEsSUFBQWlCLEVBQUFqQixFQUFBLE1BQ0FnQixJQUFBaEIsRUFBQSxHQUNBQSxFQUFBLEdBQUFnQixFQUNLQSxJQUNMaEIsRUFBQSxPQUFBQSxFQUFBLGFBQUFnQixFQUFBLEtBRUFsQixFQUFBeEIsS0FBQTBCLE1BSUFGLG9CQ3pDQSxJQUVBb0IsRUFDQUMsRUFIQUMsRUFBQSxHQVdBQyxHQVRBSCxFQVNBLFdBTUEsT0FBQXJELFFBQUFsQixtQkFBQTJFLE1BQUF6RCxPQUFBMEQsTUFaQSxXQUVBLFlBREEsSUFBQUosTUFBQUQsRUFBQU0sTUFBQXpGLEtBQUEwRixZQUNBTixJQWFBTyxFQUFBLFNBQUFSLEdBQ0EsSUFBQUMsRUFBQSxHQUVBLGdCQUFBUSxHQUNBLFlBQUFSLEVBQUFRLEdBQUEsQ0FDQSxJQUFBQyxFQWVDLFNBQUE3RCxHQUNELE9BQUFwQixTQUFBa0YsY0FBQTlELElBaEJBM0UsS0FBQTJDLEtBQUE0RixHQUVBLEdBQUFDLGFBQUEvRCxPQUFBaUUsa0JBQ0EsSUFHQUYsSUFBQUcsZ0JBQUFDLEtBQ0ssTUFBQUMsR0FDTEwsRUFBQSxLQUdBVCxFQUFBUSxHQUFBQyxFQUVBLE9BQUFULEVBQUFRLElBbEJBLEdBd0JBTyxFQUFBLEtBQ0FDLEVBQUEsRUFDQUMsRUFBQSxHQUVBQyxFQUFjeEosRUFBUSxHQXFEdEIsU0FBQXlKLEVBQUFDLEVBQUE5QyxHQUNBLFFBQUF4RyxFQUFBLEVBQWdCQSxFQUFBc0osRUFBQXpHLE9BQW1CN0MsSUFBQSxDQUNuQyxJQUFBK0csRUFBQXVDLEVBQUF0SixHQUNBdUosRUFBQXBCLEVBQUFwQixFQUFBdEIsSUFFQSxHQUFBOEQsRUFBQSxDQUNBQSxFQUFBQyxPQUVBLFFBQUFDLEVBQUEsRUFBaUJBLEVBQUFGLEVBQUFHLE1BQUE3RyxPQUEyQjRHLElBQzVDRixFQUFBRyxNQUFBRCxHQUFBMUMsRUFBQTJDLE1BQUFELElBR0EsS0FBUUEsRUFBQTFDLEVBQUEyQyxNQUFBN0csT0FBdUI0RyxJQUMvQkYsRUFBQUcsTUFBQXJFLEtBQUFzRSxFQUFBNUMsRUFBQTJDLE1BQUFELEdBQUFqRCxRQUVHLENBQ0gsSUFBQWtELEVBQUEsR0FFQSxJQUFBRCxFQUFBLEVBQWlCQSxFQUFBMUMsRUFBQTJDLE1BQUE3RyxPQUF1QjRHLElBQ3hDQyxFQUFBckUsS0FBQXNFLEVBQUE1QyxFQUFBMkMsTUFBQUQsR0FBQWpELElBR0EyQixFQUFBcEIsRUFBQXRCLElBQUEsQ0FBMkJBLEdBQUFzQixFQUFBdEIsR0FBQStELEtBQUEsRUFBQUUsV0FLM0IsU0FBQUUsRUFBQS9DLEVBQUFMLEdBSUEsSUFIQSxJQUFBOEMsRUFBQSxHQUNBTyxFQUFBLEdBRUE3SixFQUFBLEVBQWdCQSxFQUFBNkcsRUFBQWhFLE9BQWlCN0MsSUFBQSxDQUNqQyxJQUFBK0csRUFBQUYsRUFBQTdHLEdBQ0F5RixFQUFBZSxFQUFBc0QsS0FBQS9DLEVBQUEsR0FBQVAsRUFBQXNELEtBQUEvQyxFQUFBLEdBSUFnRCxFQUFBLENBQWNDLElBSGRqRCxFQUFBLEdBR2NrRCxNQUZkbEQsRUFBQSxHQUVjSSxVQURkSixFQUFBLElBR0E4QyxFQUFBcEUsR0FDQW9FLEVBQUFwRSxHQUFBaUUsTUFBQXJFLEtBQUEwRSxHQURBVCxFQUFBakUsS0FBQXdFLEVBQUFwRSxHQUFBLENBQWtEQSxLQUFBaUUsTUFBQSxDQUFBSyxLQUlsRCxPQUFBVCxFQUdBLFNBQUFZLEVBQUExRCxFQUFBN0IsR0FDQSxJQUFBRyxFQUFBMkQsRUFBQWpDLEVBQUEyRCxZQUVBLElBQUFyRixFQUNBLFVBQUFzRixNQUFBLCtHQUdBLElBQUFDLEVBQUFsQixJQUFBdEcsT0FBQSxHQUVBLFdBQUEyRCxFQUFBOEQsU0FDQUQsRUFFR0EsRUFBQUUsWUFDSHpGLEVBQUEwRixhQUFBN0YsRUFBQTBGLEVBQUFFLGFBRUF6RixFQUFBYixZQUFBVSxHQUpBRyxFQUFBMEYsYUFBQTdGLEVBQUFHLEVBQUEyRixZQU1BdEIsRUFBQTlELEtBQUFWLFFBQ0UsY0FBQTZCLEVBQUE4RCxTQUNGeEYsRUFBQWIsWUFBQVUsT0FDRSxxQkFBQTZCLEVBQUE4RCxXQUFBOUQsRUFBQThELFNBQUFJLE9BSUYsVUFBQU4sTUFBQSw4TEFIQSxJQUFBRyxFQUFBOUIsRUFBQWpDLEVBQUEyRCxXQUFBLElBQUEzRCxFQUFBOEQsU0FBQUksUUFDQTVGLEVBQUEwRixhQUFBN0YsRUFBQTRGLElBTUEsU0FBQUksRUFBQWhHLEdBQ0EsVUFBQUEsRUFBQWlHLFdBQUEsU0FDQWpHLEVBQUFpRyxXQUFBQyxZQUFBbEcsR0FFQSxJQUFBbUcsRUFBQTNCLEVBQUE3QyxRQUFBM0IsR0FDQW1HLEdBQUEsR0FDQTNCLEVBQUE0QixPQUFBRCxFQUFBLEdBSUEsU0FBQUUsRUFBQXhFLEdBQ0EsSUFBQTdCLEVBQUFqQixTQUFBQyxjQUFBLFNBT0EsT0FMQTZDLEVBQUF5RSxNQUFBQyxLQUFBLFdBRUFDLEVBQUF4RyxFQUFBNkIsRUFBQXlFLE9BQ0FmLEVBQUExRCxFQUFBN0IsR0FFQUEsRUFlQSxTQUFBd0csRUFBQUMsRUFBQUgsR0FDQXZLLE9BQUEySyxLQUFBSixHQUFBSyxRQUFBLFNBQUEvSixHQUNBNkosRUFBQUcsYUFBQWhLLEVBQUEwSixFQUFBMUosTUFJQSxTQUFBb0ksRUFBQTZCLEVBQUFoRixHQUNBLElBQUE3QixFQUFBOEcsRUFBQUMsRUFBQUMsRUFHQSxHQUFBbkYsRUFBQUUsV0FBQThFLEVBQUF4QixJQUFBLENBR0EsS0FGQTJCLEVBQUFuRixFQUFBRSxVQUFBOEUsRUFBQXhCLE1BU0Esb0JBSkF3QixFQUFBeEIsSUFBQTJCLEVBVUEsR0FBQW5GLEVBQUF5QyxVQUFBLENBQ0EsSUFBQTJDLEVBQUExQyxJQUVBdkUsRUFBQXNFLE1BQUErQixFQUFBeEUsSUFFQWlGLEVBQUFJLEVBQUFySyxLQUFBLEtBQUFtRCxFQUFBaUgsR0FBQSxHQUNBRixFQUFBRyxFQUFBckssS0FBQSxLQUFBbUQsRUFBQWlILEdBQUEsUUFHQUosRUFBQXJFLFdBQ0EsbUJBQUEyRSxLQUNBLG1CQUFBQSxJQUFBQyxpQkFDQSxtQkFBQUQsSUFBQUUsaUJBQ0EsbUJBQUFDLE1BQ0EsbUJBQUFoRixNQUVBdEMsRUF0REEsU0FBQTZCLEdBQ0EsSUFBQTBGLEVBQUF4SSxTQUFBQyxjQUFBLFFBUUEsT0FOQTZDLEVBQUF5RSxNQUFBQyxLQUFBLFdBQ0ExRSxFQUFBeUUsTUFBQWtCLElBQUEsYUFFQWhCLEVBQUFlLEVBQUExRixFQUFBeUUsT0FDQWYsRUFBQTFELEVBQUEwRixHQUVBQSxFQTZDQUUsQ0FBQTVGLEdBQ0FpRixFQWlGQSxTQUFBUyxFQUFBMUYsRUFBQWdGLEdBQ0EsSUFBQXhCLEVBQUF3QixFQUFBeEIsSUFDQTdDLEVBQUFxRSxFQUFBckUsVUFRQWtGLE9BQUFwSixJQUFBdUQsRUFBQThGLHVCQUFBbkYsR0FFQVgsRUFBQThGLHVCQUFBRCxLQUNBckMsRUFBQVosRUFBQVksSUFHQTdDLElBRUE2QyxHQUFBLHVEQUF1RC9DLEtBQUFHLFNBQUFDLG1CQUFBQyxLQUFBQyxVQUFBSixNQUFBLE9BR3ZELElBQUFvRixFQUFBLElBQUFOLEtBQUEsQ0FBQWpDLEdBQUEsQ0FBNkJrQixLQUFBLGFBRTdCc0IsRUFBQU4sRUFBQU8sS0FFQVAsRUFBQU8sS0FBQVgsSUFBQUMsZ0JBQUFRLEdBRUFDLEdBQUFWLElBQUFFLGdCQUFBUSxJQTVHQWhMLEtBQUEsS0FBQW1ELEVBQUE2QixHQUNBa0YsRUFBQSxXQUNBZixFQUFBaEcsR0FFQUEsRUFBQThILE1BQUFYLElBQUFFLGdCQUFBckgsRUFBQThILFNBR0E5SCxFQUFBcUcsRUFBQXhFLEdBQ0FpRixFQXNEQSxTQUFBOUcsRUFBQTZHLEdBQ0EsSUFBQXhCLEVBQUF3QixFQUFBeEIsSUFDQUMsRUFBQXVCLEVBQUF2QixNQUVBQSxHQUNBdEYsRUFBQTRHLGFBQUEsUUFBQXRCLEdBR0EsR0FBQXRGLEVBQUErSCxXQUNBL0gsRUFBQStILFdBQUFDLFFBQUEzQyxNQUNFLENBQ0YsS0FBQXJGLEVBQUE4RixZQUNBOUYsRUFBQWtHLFlBQUFsRyxFQUFBOEYsWUFHQTlGLEVBQUFWLFlBQUFQLFNBQUFrSixlQUFBNUMsTUFyRUF4SSxLQUFBLEtBQUFtRCxHQUNBK0csRUFBQSxXQUNBZixFQUFBaEcsS0FNQSxPQUZBOEcsRUFBQUQsR0FFQSxTQUFBcUIsR0FDQSxHQUFBQSxFQUFBLENBQ0EsR0FDQUEsRUFBQTdDLE1BQUF3QixFQUFBeEIsS0FDQTZDLEVBQUE1QyxRQUFBdUIsRUFBQXZCLE9BQ0E0QyxFQUFBMUYsWUFBQXFFLEVBQUFyRSxVQUVBLE9BR0FzRSxFQUFBRCxFQUFBcUIsUUFFQW5CLEtBck9BM0wsRUFBQUQsUUFBQSxTQUFBK0csRUFBQUwsR0FDQSx1QkFBQXNHLGNBQ0EsaUJBQUFwSixTQUFBLFVBQUEwRyxNQUFBLGlFQUdBNUQsS0FBQSxJQUVBeUUsTUFBQSxpQkFBQXpFLEVBQUF5RSxNQUFBekUsRUFBQXlFLE1BQUEsR0FJQXpFLEVBQUF5QyxXQUFBLGtCQUFBekMsRUFBQXlDLFlBQUF6QyxFQUFBeUMsVUFBQWIsS0FHQTVCLEVBQUEyRCxhQUFBM0QsRUFBQTJELFdBQUEsUUFHQTNELEVBQUE4RCxXQUFBOUQsRUFBQThELFNBQUEsVUFFQSxJQUFBaEIsRUFBQU0sRUFBQS9DLEVBQUFMLEdBSUEsT0FGQTZDLEVBQUFDLEVBQUE5QyxHQUVBLFNBQUF1RyxHQUdBLElBRkEsSUFBQUMsRUFBQSxHQUVBaE4sRUFBQSxFQUFpQkEsRUFBQXNKLEVBQUF6RyxPQUFtQjdDLElBQUEsQ0FDcEMsSUFBQStHLEVBQUF1QyxFQUFBdEosSUFDQXVKLEVBQUFwQixFQUFBcEIsRUFBQXRCLEtBRUErRCxPQUNBd0QsRUFBQTNILEtBQUFrRSxHQUdBd0QsR0FFQTFELEVBREFPLEVBQUFtRCxFQUFBdkcsR0FDQUEsR0FHQSxJQUFBeEcsRUFBQSxFQUFpQkEsRUFBQWdOLEVBQUFuSyxPQUFzQjdDLElBQUEsQ0FDdkMsSUFBQXVKLEVBRUEsUUFGQUEsRUFBQXlELEVBQUFoTixJQUVBd0osS0FBQSxDQUNBLFFBQUFDLEVBQUEsRUFBbUJBLEVBQUFGLEVBQUFHLE1BQUE3RyxPQUEyQjRHLElBQUFGLEVBQUFHLE1BQUFELFlBRTlDdEIsRUFBQW9CLEVBQUE5RCxRQTZMQSxJQUNBd0gsRUFEQUMsR0FDQUQsRUFBQSxHQUVBLFNBQUFFLEVBQUF4SyxHQUdBLE9BRkFzSyxFQUFBRSxHQUFBeEssRUFFQXNLLEVBQUFHLE9BQUFDLFNBQUF4RixLQUFBLFFBSUEsU0FBQWdFLEVBQUFsSCxFQUFBd0ksRUFBQXpCLEVBQUFGLEdBQ0EsSUFBQXhCLEVBQUEwQixFQUFBLEdBQUFGLEVBQUF4QixJQUVBLEdBQUFyRixFQUFBK0gsV0FDQS9ILEVBQUErSCxXQUFBQyxRQUFBTyxFQUFBQyxFQUFBbkQsT0FDRSxDQUNGLElBQUFzRCxFQUFBNUosU0FBQWtKLGVBQUE1QyxHQUNBdUQsRUFBQTVJLEVBQUE0SSxXQUVBQSxFQUFBSixJQUFBeEksRUFBQWtHLFlBQUEwQyxFQUFBSixJQUVBSSxFQUFBMUssT0FDQThCLEVBQUE2RixhQUFBOEMsRUFBQUMsRUFBQUosSUFFQXhJLEVBQUFWLFlBQUFxSixvQkMzU0F2TixFQUFBRCxRQUFBLFNBQUFrSyxHQUVBLElBQUF3RCxFQUFBLG9CQUFBNUksZUFBQTRJLFNBRUEsSUFBQUEsRUFDQSxVQUFBcEQsTUFBQSxvQ0FJQSxJQUFBSixHQUFBLGlCQUFBQSxFQUNBLE9BQUFBLEVBR0EsSUFBQXlELEVBQUFELEVBQUFFLFNBQUEsS0FBQUYsRUFBQUcsS0FDQUMsRUFBQUgsRUFBQUQsRUFBQUssU0FBQTNJLFFBQUEsaUJBMkRBLE9BL0JBOEUsRUFBQTlFLFFBQUEsK0RBQUE0SSxFQUFBQyxHQUVBLElBV0FDLEVBWEFDLEVBQUFGLEVBQ0E3SyxPQUNBZ0MsUUFBQSxvQkFBQXpFLEVBQUF5TixHQUF3QyxPQUFBQSxJQUN4Q2hKLFFBQUEsb0JBQUF6RSxFQUFBeU4sR0FBd0MsT0FBQUEsSUFHeEMscURBQUFDLEtBQUFGLEdBQ0FILEdBUUFFLEVBRkEsSUFBQUMsRUFBQTNILFFBQUEsTUFFQTJILEVBQ0csSUFBQUEsRUFBQTNILFFBQUEsS0FFSG1ILEVBQUFRLEVBR0FMLEVBQUFLLEVBQUEvSSxRQUFBLFlBSUEsT0FBQW9DLEtBQUFDLFVBQUF5RyxHQUFBIiwiZmlsZSI6ImNhbGN1bGF0b3Itd2lkZ2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9jYWxjdWxhdG9yLmh0bWwnO1xyXG5pbXBvcnQgJy4vY2FsY3VsYXRvci5jc3MnO1xyXG5cclxudmFyIHRleHRCb3ggPSAnJztcclxudmFyIGN1cnJlbnROdW1iZXIgPSAnJztcclxuXHJcblN0cmluZy5wcm90b3R5cGUucmVwbGFjZUF0ID0gZnVuY3Rpb24ocG9zaXRpb24scmVwbGFjZW1lbnQpe1xyXG4gICAgbGV0IHJsZW5ndGggPSAocmVwbGFjZW1lbnQubGVuZ3RoPT0wKT8xOnJlcGxhY2VtZW50Lmxlbmd0aDtcclxuICAgIHJldHVybiB0aGlzLnN1YnN0cigwLHBvc2l0aW9uLTEpK3JlcGxhY2VtZW50K3RoaXMuc3Vic3RyKHBvc2l0aW9uLTErcmxlbmd0aCx0aGlzLmxlbmd0aCk7XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZih0aGlzPT1udWxsfHx0aGlzPT09dW5kZWZpbmVkKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgZWxzZXtcclxuICAgICAgICBpZih0aGlzLnRyaW0oKT09bnVsbHx8dGhpcy50cmltKCk9PT1cIlwiKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5jb25zdCBtYXA9e1xyXG4gICAgXCJESVZcIjpcIi9cIixcclxuICAgIFwiUExVU1wiOlwiK1wiLFxyXG4gICAgXCJNSU5VU1wiOlwiLVwiLFxyXG4gICAgXCJESVZcIjpcIi9cIixcclxuICAgIFwiTVVMVElcIjpcInhcIixcclxuICAgIFwiRVFcIjpcIlwiXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3coKXtcclxuICAgIGxldCB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0ZW1wLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NhbGN1bGF0b3InKVswXTtcclxuICAgIHdoaWxlKHRlbXAuY2hpbGRyZW4ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh0ZW1wLmNoaWxkcmVuWzBdKTtcclxuICAgIH1cclxuICAgIC8vQWRkaW5nIGV2ZW50IGxpc3RlbmVycyBmb3IgTnVtYmVycyBhbmQgZG90c1xyXG4gICAgc3lzdGVtT3BzTGlzdGVuZXIoKTtcclxuICAgIC8vQWRkaW5nIGV2ZW50IGxpc3RlbmVyIGZvciBudW1iZXIgb3BlcmF0aW9uXHJcbiAgICBzcGVpYWxPcHNMaXN0ZW5lcigpO1xyXG4gICAgLy9BZGRpbmcgZXZlbnQgbGlzdGVuZXIgZm9yIHN5c3RlbSBjb21tYW5kcyBsaWtlIEMsQ0UsREVMXHJcbiAgICBzeXN0ZW1FdmVudExpc3RlbmVyKCk7XHJcbiAgICAvL2hhbmRsZSBEcmFnIGV2ZW50XHJcbiAgICBkcmFnQW5kRHJvcFdpZGdldCgpO1xyXG5cclxufVxyXG52YXIgcG9zaXRpb249W107XHJcbmZ1bmN0aW9uIGRyYWdBbmREcm9wV2lkZ2V0KCl7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbGMtd2lkZ2V0XCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsKGV2ZW50KT0+e1xyXG4gICAgICAgIHBvc2l0aW9uPVtdO1xyXG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCI7XHJcbiAgICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0LCBudWxsKTtcclxuICAgICAgICBsZXQgbGVmdCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJsZWZ0XCIpO1xyXG4gICAgICAgIGxldCB0b3AgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwidG9wXCIpO1xyXG4gICAgICAgIGxlZnQgPSBsZWZ0LnJlcGxhY2UoXCJweFwiLFwiXCIpO1xyXG4gICAgICAgIHRvcCA9IHRvcC5yZXBsYWNlKFwicHhcIixcIlwiKTtcclxuICAgICAgICBpZihOdW1iZXIuaXNOYU4obGVmdCkpXHJcbiAgICAgICAgICAgIGxlZnQgPSAxMDtcclxuICAgICAgICBpZihOdW1iZXIuaXNOYU4odG9wKSlcclxuICAgICAgICAgICAgdG9wID0gMTA7XHJcbiAgICAgICAgcG9zaXRpb24ucHVzaChsZWZ0LWV2ZW50LmNsaWVudFgpO1xyXG4gICAgICAgIHBvc2l0aW9uLnB1c2godG9wLWV2ZW50LmNsaWVudFkpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsYy13aWRnZXRcIikuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsKGV2ZW50KT0+e1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmlkO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5wb3NpdGlvbj0ncmVsYXRpdmUnO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5sZWZ0PWV2ZW50LmNsaWVudFgrcG9zaXRpb25bMF07XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnN0eWxlLnRvcD1ldmVudC5jbGllbnRZK3Bvc2l0aW9uWzFdO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN5c3RlbUV2ZW50TGlzdGVuZXIoKXtcclxuICAgIHZhciBzeXN0ZW1Ob2RlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuLnN5c3RlbVwiKTtcclxuICAgIGZvcihsZXQgaT0wO2k8c3lzdGVtTm9kZUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgbGV0IGNoaWxkRWxlbWVudCA9IHN5c3RlbU5vZGVMaXN0W2ldO1xyXG4gICAgICAgIGNoaWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgIHN3aXRjaCh2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCb3g9Y3VycmVudE51bWJlcj1cIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkNFXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bWJlcj1cIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRFTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbExlbiA9IGN1cnJlbnROdW1iZXIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRvdGFsTGVuIT0wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtYmVyID0gY3VycmVudE51bWJlci5yZXBsYWNlQXQodG90YWxMZW4sXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRvdGFsLWV4cHJcIilbMF0udGV4dENvbnRlbnQgPSB0ZXh0Qm94O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY3VycmVudC1udW1iZXJcIilbMF0udGV4dENvbnRlbnQgPSBjdXJyZW50TnVtYmVyO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwZWlhbE9wc0xpc3RlbmVyKCl7XHJcbiAgICB2YXIgc3BlY2lhbE5vZGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNwYW4uc3BlY2lhbC1zeW1ib2xzXCIpO1xyXG4gICAgZm9yKGxldCBpPTA7aTxzcGVjaWFsTm9kZUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgbGV0IGNoaWxkRWxlbWVudCA9IHNwZWNpYWxOb2RlTGlzdFtpXTtcclxuICAgICAgICBjaGlsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChldmVudCk9PntcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICBsZXQgbGFzdENoYXIgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgdG90YWxMZW4gPSB0ZXh0Qm94Lmxlbmd0aDtcclxuICAgICAgICAgICAgaWYoIXRleHRCb3guaXNFbXB0eSgpICYmIGN1cnJlbnROdW1iZXIuaXNFbXB0eSgpICYmIE51bWJlci5pc05hTihOdW1iZXIucGFyc2VGbG9hdCh0ZXh0Qm94LmNoYXJBdCh0b3RhbExlbi0xKSkpICYmIE51bWJlci5pc05hTihOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSkpKXtcclxuICAgICAgICAgICAgICAgIGlmKHRvdGFsTGVuIT0wKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCb3ggPSB0ZXh0Qm94LnJlcGxhY2VBdCh0b3RhbExlbixtYXBbdmFsdWVdKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZighdGV4dEJveC5pc0VtcHR5KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCb3ggPSBldmFsKHRleHRCb3gucmVwbGFjZShcInhcIixcIipcIikrY3VycmVudE51bWJlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEJveD10ZXh0Qm94K21hcFt2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Qm94PWN1cnJlbnROdW1iZXIrbWFwW3ZhbHVlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnROdW1iZXI9XCJcIjtcclxuICAgICAgICAgICAgfSAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0b3RhbC1leHByXCIpWzBdLnRleHRDb250ZW50ID0gdGV4dEJveDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImN1cnJlbnQtbnVtYmVyXCIpWzBdLnRleHRDb250ZW50ID0gY3VycmVudE51bWJlcjtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzeXN0ZW1PcHNMaXN0ZW5lcigpe1xyXG4gICAgdmFyIG51bWJlck5vZGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNwYW4ubnVtYmVyXCIpO1xyXG4gICAgZm9yKGxldCBpPTA7aTxudW1iZXJOb2RlTGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICBsZXQgY2hpbGRFbGVtZW50ID0gbnVtYmVyTm9kZUxpc3RbaV07XHJcbiAgICAgICAgY2hpbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZXZlbnQpPT57XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgc3dpdGNoKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkb3RcIjpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxMZW4gPSBjdXJyZW50TnVtYmVyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50TnVtYmVyLmluZGV4T2YoXCIuXCIpPT0tMSAmJiBjdXJyZW50TnVtYmVyLmNoYXJBdCh0b3RhbExlbi0xKSE9PVwiLlwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudE51bWJlci5pc0VtcHR5KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bWJlcj1cIjAuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bWJlcj1jdXJyZW50TnVtYmVyK1wiLlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtYmVyPWN1cnJlbnROdW1iZXIrdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRvdGFsLWV4cHJcIilbMF0udGV4dENvbnRlbnQgPSB0ZXh0Qm94O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY3VycmVudC1udW1iZXJcIilbMF0udGV4dENvbnRlbnQgPSBjdXJyZW50TnVtYmVyO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImNhbGMtd2lkZ2V0XFxcIiBjbGFzcz1cXFwiY2FsYy1jb250YWluZXJcXFwiIGRyYWdnYWJsZT1cXFwidHJ1ZVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNhbGMtcm93XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRleHQtYm94IGNvbC0xMlxcXCI+XFxyXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRvdGFsLWV4cHJcXFwiPjwvc3Bhbj5cXHJcXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY3VycmVudC1udW1iZXJcXFwiPjwvc3Bhbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY2FsYy1yb3dcXFwiPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcIkNFXFxcIiBjbGFzcz1cXFwiYnV0dG9uIHN5c3RlbSBjb2wtM1xcXCI+Q0U8L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiQ1xcXCIgY2xhc3M9XFxcImJ1dHRvbiBzeXN0ZW0gY29sLTNcXFwiPkM8L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiREVMXFxcIiBjbGFzcz1cXFwiYnV0dG9uIHN5c3RlbSBjb2wtM1xcXCI+XFxyXFxuICAgICAgICAgICAgPGltZyBzdHlsZT1cXFwicGFkZGluZy10b3A6MjAlO2NvbG9yOndoaXRlO1xcXCJzcmM9XFxcIlwiICsgcmVxdWlyZShcIi4vYmFja3NwYWNlLWFycm93LnBuZ1wiKSArIFwiXFxcIi8+XFxyXFxuICAgICAgICA8L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiRElWXFxcIiBjbGFzcz1cXFwiYnV0dG9uIHNwZWNpYWwtc3ltYm9scyBjb2wtM1xcXCI+Lzwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNhbGMtcm93XFxcIj5cXHJcXG4gICAgICAgIDxzcGFuIHZhbHVlPVxcXCI3XFxcIiBjbGFzcz1cXFwiYnV0dG9uIG51bWJlciBjb2wtM1xcXCI+Nzwvc3Bhbj5cXHJcXG4gICAgICAgIDxzcGFuIHZhbHVlPVxcXCI4XFxcIiBjbGFzcz1cXFwiYnV0dG9uIG51bWJlciBjb2wtM1xcXCI+ODwvc3Bhbj5cXHJcXG4gICAgICAgIDxzcGFuIHZhbHVlPVxcXCI5XFxcIiBjbGFzcz1cXFwiYnV0dG9uIG51bWJlciBjb2wtM1xcXCI+OTwvc3Bhbj5cXHJcXG4gICAgICAgIDxzcGFuIHZhbHVlPVxcXCJNVUxUSVxcXCIgY2xhc3M9XFxcImJ1dHRvbiBzcGVjaWFsLXN5bWJvbHMgY29sLTNcXFwiPng8L3NwYW4+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjYWxjLXJvd1xcXCI+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiNFxcXCIgY2xhc3M9XFxcImJ1dHRvbiBudW1iZXIgY29sLTNcXFwiPjQ8L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiNVxcXCIgY2xhc3M9XFxcImJ1dHRvbiBudW1iZXIgY29sLTNcXFwiPjU8L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiNlxcXCIgY2xhc3M9XFxcImJ1dHRvbiBudW1iZXIgY29sLTNcXFwiPjY8L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiTUlOVVNcXFwiIGNsYXNzPVxcXCJidXR0b24gc3BlY2lhbC1zeW1ib2xzIGNvbC0zXFxcIj4tPC9zcGFuPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY2FsYy1yb3dcXFwiPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcIjFcXFwiIGNsYXNzPVxcXCJidXR0b24gbnVtYmVyIGNvbC0zXFxcIj4xPC9zcGFuPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcIjJcXFwiIGNsYXNzPVxcXCJidXR0b24gbnVtYmVyIGNvbC0zXFxcIj4yPC9zcGFuPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcIjNcXFwiIGNsYXNzPVxcXCJidXR0b24gbnVtYmVyIGNvbC0zXFxcIj4zPC9zcGFuPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcIlBMVVNcXFwiIGNsYXNzPVxcXCJidXR0b24gc3BlY2lhbC1zeW1ib2xzIGNvbC0zXFxcIj4rPC9zcGFuPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY2FsYy1yb3dcXFwiPlxcclxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImJ1dHRvbiBkaXNhYmxlZCBjb2wtM1xcXCI+PC9zcGFuPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcIjBcXFwiIGNsYXNzPVxcXCJidXR0b24gbnVtYmVyIGNvbC0zXFxcIj4wPC9zcGFuPlxcclxcbiAgICAgICAgPHNwYW4gdmFsdWU9XFxcImRvdFxcXCIgY2xhc3M9XFxcImJ1dHRvbiBudW1iZXIgY29sLTNcXFwiPi48L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiB2YWx1ZT1cXFwiRVFcXFwiIGNsYXNzPVxcXCJidXR0b24gc3BlY2lhbC1zeW1ib2xzIGNvbC0zXFxcIj49PC9zcGFuPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cIjsiLCJpbXBvcnQgeyBzaG93IH0gZnJvbSAnLi92aWV3L2NhbGN1bGF0b3IuanMnO1xyXG5cclxuZnVuY3Rpb24gYXBwKHdpbmRvdyl7XHJcbiAgICBsZXQgZ2xvYmFsT2JqZWN0ID0gd2luZG93W3dpbmRvd1snY2FsY3VsYXRvciddXTtcclxuICAgIGxldCBxdWV1ZSA9IGdsb2JhbE9iamVjdC5xO1xyXG5cclxuICAgIGlmKHF1ZXVlKXtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxxdWV1ZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgYXBpSGFuZGxlcihxdWV1ZVtpXVswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdsb2JhbE9iamVjdCA9IGFwaUhhbmRsZXI7XHJcbn1cclxuZnVuY3Rpb24gYXBpSGFuZGxlcigpe1xyXG4gICAgc2hvdygpO1xyXG4gICAgXHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4ZjI4ODFjOWE3NTI1ZmNiMzMxMTMzNGE2Y2VhNzUwYy5wbmdcIjsiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jYWxjdWxhdG9yLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gUHJlcGFyZSBjc3NUcmFuc2Zvcm1hdGlvblxudmFyIHRyYW5zZm9ybTtcblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jYWxjdWxhdG9yLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jYWxjdWxhdG9yLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvKTtcIiwgXCJcIl0pO1xuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jYWxjLWNvbnRhaW5lcntcXHJcXG4gICAgbWFyZ2luOiAwcHg7XFxyXFxuICAgIGJvcmRlcjogMHB4O1xcclxcbiAgICBtYXgtd2lkdGg6MzAwcHg7XFxyXFxuICAgIGRpc3BsYXk6ZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgZmxleC13cmFwOndyYXA7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2Fucy1zZXJpZjtcXHJcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMnB4IDM4cHggLTNweCByZ2JhKDAsMCwwLDAuNzUpO1xcclxcbiAgICAtbW96LWJveC1zaGFkb3c6IDBweCAycHggMzhweCAtM3B4IHJnYmEoMCwwLDAsMC43NSk7XFxyXFxuICAgIGJveC1zaGFkb3c6IDBweCAycHggMzhweCAtM3B4IHJnYmEoMCwwLDAsMC43NSk7IFxcclxcbiAgICB6LWluZGV4OjEwMDE7IFxcclxcbn1cXHJcXG4udGV4dC1ib3h7XFxyXFxuICAgIGJvcmRlcjoxcHggc29saWQgI0UwRTBFMDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0UwRTBFMDtcXHJcXG4gICAgaGVpZ2h0OjgwcHg7XFxyXFxuICAgIHBhZGRpbmctcmlnaHQ6NXB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXHJcXG59XFxyXFxuLnRvdGFsLWV4cHJ7XFxyXFxuICAgIGZvbnQtc2l6ZToxNXB4O1xcclxcbiAgICAvKmxpbmUtaGVpZ2h0OjQwcHg7Ki9cXHJcXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XFxyXFxuICAgIHRvcDoyMCU7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbn1cXHJcXG4uY3VycmVudC1udW1iZXJ7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XFxyXFxuICAgIGZvbnQtc2l6ZTozMHB4O1xcclxcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcXHJcXG4gICAgdG9wOjIwJTtcXHJcXG4gICAgLypsaW5lLWhlaWdodDo0MHB4OyovXFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbn1cXHJcXG4uY2FsYy1yb3d7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxufVxcclxcblxcclxcbi5idXR0b257XFxyXFxuICAgIG1pbi13aWR0aDo1MHB4O1xcclxcbiAgICBtaW4taGVpZ2h0OjQwcHg7XFxyXFxuICAgIGJvcmRlcjoxcHggc29saWQgI0I4QjhCODtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgZm9udC1zaXplOjIwcHg7XFxyXFxuICAgIGxpbmUtaGVpZ2h0OjUwcHg7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuLmRpc2FibGVke1xcclxcbiAgICBjdXJzb3I6ZGVmYXVsdDtcXHJcXG59XFxyXFxuLm51bWJlcntcXHJcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxyXFxufVxcclxcbi5udW1iZXI6aG92ZXJ7XFxyXFxuICAgIC8qYmFja2dyb3VuZC1jb2xvcjojRTBFMEUwOyovXFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6I0VCRUJFQjtcXHJcXG59XFxyXFxuc3Bhbi5udW1iZXI6YWN0aXZle1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNFMEUwRTA7XFxyXFxuICAgIGJvcmRlcjoxcHggZG91YmxlICNCOEI4Qjg7XFxyXFxufVxcclxcbnNwYW4uYnV0dG9uOm5vdCgubnVtYmVyKTpub3QoLmRpc2FibGVkKTphY3RpdmV7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IzAwYmZmZjtcXHJcXG4gICAgY29sb3I6d2hpdGU7XFxyXFxuICAgIHRyYW5zaXRpb246IDAuMTVzO1xcclxcbn1cXHJcXG5zcGFuLmJ1dHRvbjpub3QoLm51bWJlcik6bm90KC5kaXNhYmxlZCk6bm90KDphY3RpdmUpOmhvdmVye1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiMwMDQwZmY7XFxyXFxuICAgIGNvbG9yOndoaXRlO1xcclxcbn1cXHJcXG4uc3BlY2lhbC1zeW1ib2xzLFxcclxcbi5zeXN0ZW1cXHJcXG57XFxyXFxuICAgIGZvbnQtc2l6ZToxNnB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNFQkVCRUI7XFxyXFxufVxcclxcbi5jb2wtM3tcXHJcXG4gICAgd2lkdGg6MjUlO1xcclxcbn1cXHJcXG4uY29sLTR7XFxyXFxuICAgIHdpZHRoOjMzJTtcXHJcXG59XFxyXFxuLmNvbC0xMntcXHJcXG4gICAgd2lkdGg6MTAwJTtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vW3NlbGVjdG9yXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZm4uY2FsbCh0aGlzLCBzZWxlY3Rvcik7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1tzZWxlY3Rvcl0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bc2VsZWN0b3JdXG5cdH07XG59KShmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldClcbn0pO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9